{"ast":null,"code":"var _excluded = [\"cellProps\", \"columns\", \"data\", \"onMore\", \"replace\", \"onClickRow\", \"onSelect\", \"pinnedOffset\", \"primaryProperty\", \"rowProps\", \"selected\", \"rowDetails\", \"show\", \"size\", \"step\", \"rowExpand\", \"setRowExpand\"];\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n/* eslint-disable no-underscore-dangle */\n\n\nimport React, { forwardRef, memo, useContext } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { CheckBox } from '../CheckBox';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { TableRow } from '../TableRow';\nimport { TableCell } from '../TableCell';\nimport { Keyboard } from '../Keyboard';\nimport { ExpanderCell } from './ExpanderCell';\nimport { Cell } from './Cell';\nimport { StyledDataTableBody, StyledDataTableRow } from './StyledDataTable';\nimport { datumValue, normalizeRowCellProps } from './buildState';\nimport { defaultProps } from '../../default-props';\nvar Row = /*#__PURE__*/memo(function (_ref) {\n  var cellProps = _ref.cellProps,\n      primaryValue = _ref.primaryValue,\n      index = _ref.index,\n      rowRef = _ref.rowRef,\n      size = _ref.size,\n      active = _ref.active,\n      onClickRow = _ref.onClickRow,\n      datum = _ref.datum,\n      selected = _ref.selected,\n      onSelect = _ref.onSelect,\n      isSelected = _ref.isSelected,\n      rowDetails = _ref.rowDetails,\n      isRowExpanded = _ref.isRowExpanded,\n      setActive = _ref.setActive,\n      setRowExpand = _ref.setRowExpand,\n      rowExpand = _ref.rowExpand,\n      columns = _ref.columns,\n      pinnedOffset = _ref.pinnedOffset,\n      primaryProperty = _ref.primaryProperty,\n      data = _ref.data;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledDataTableRow, {\n    ref: rowRef,\n    size: size,\n    active: active,\n    onClick: onClickRow ? function (event) {\n      // extract from React's synthetic event pool\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.datum = datum;\n      adjustedEvent.index = index;\n      onClickRow(adjustedEvent);\n    } : undefined,\n    onMouseEnter: onClickRow ? function () {\n      setActive(index);\n    } : undefined,\n    onMouseLeave: onClickRow ? function () {\n      return setActive(undefined);\n    } : undefined\n  }, (selected || onSelect) && /*#__PURE__*/React.createElement(Cell, {\n    background: (pinnedOffset == null ? void 0 : pinnedOffset._grommetDataTableSelect) && cellProps.pinned.background || cellProps.background,\n    pinnedOffset: pinnedOffset == null ? void 0 : pinnedOffset._grommetDataTableSelect,\n    column: {\n      pin: Boolean(pinnedOffset == null ? void 0 : pinnedOffset._grommetDataTableSelect),\n      plain: 'noPad',\n      size: 'auto',\n      render: function render() {\n        return /*#__PURE__*/React.createElement(CheckBox, {\n          a11yTitle: (isSelected ? 'unselect' : 'select') + \" \" + primaryValue,\n          checked: isSelected,\n          disabled: !onSelect,\n          onChange: function onChange() {\n            if (isSelected) {\n              onSelect(selected.filter(function (s) {\n                return s !== primaryValue;\n              }));\n            } else onSelect([].concat(selected, [primaryValue]));\n          },\n          pad: cellProps.pad\n        });\n      }\n    }\n  }), rowDetails && /*#__PURE__*/React.createElement(ExpanderCell, {\n    context: isRowExpanded ? 'groupHeader' : 'body',\n    expanded: isRowExpanded,\n    onToggle: function onToggle() {\n      if (isRowExpanded) {\n        setRowExpand(rowExpand.filter(function (s) {\n          return s !== index;\n        }));\n      } else {\n        setRowExpand([].concat(rowExpand, [index]));\n      }\n    },\n    pad: cellProps.pad\n  }), columns.map(function (column) {\n    return /*#__PURE__*/React.createElement(Cell, {\n      key: column.property,\n      background: column.pin && cellProps.pinned.background || cellProps.background,\n      border: column.pin && cellProps.pinned.border || cellProps.border,\n      context: \"body\",\n      column: column,\n      datum: datum,\n      pad: column.pin && cellProps.pinned.pad || cellProps.pad,\n      pinnedOffset: pinnedOffset && pinnedOffset[column.property],\n      primaryProperty: primaryProperty,\n      scope: column.primary || column.property === primaryProperty ? 'row' : undefined\n    });\n  })), rowDetails && isRowExpanded && /*#__PURE__*/React.createElement(StyledDataTableRow, {\n    key: index.toString() + \"_expand\"\n  }, (selected || onSelect) && /*#__PURE__*/React.createElement(TableCell, null), /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: columns.length + 1\n  }, rowDetails(data[index]))));\n});\nvar Body = /*#__PURE__*/forwardRef(function (_ref2, ref) {\n  var cellPropsProp = _ref2.cellProps,\n      columns = _ref2.columns,\n      data = _ref2.data,\n      onMore = _ref2.onMore,\n      replace = _ref2.replace,\n      onClickRow = _ref2.onClickRow,\n      onSelect = _ref2.onSelect,\n      pinnedOffset = _ref2.pinnedOffset,\n      primaryProperty = _ref2.primaryProperty,\n      rowProps = _ref2.rowProps,\n      selected = _ref2.selected,\n      rowDetails = _ref2.rowDetails,\n      show = _ref2.show,\n      size = _ref2.size,\n      step = _ref2.step,\n      rowExpand = _ref2.rowExpand,\n      setRowExpand = _ref2.setRowExpand,\n      rest = _objectWithoutPropertiesLoose(_ref2, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _React$useState = React.useState(),\n      active = _React$useState[0],\n      setActive = _React$useState[1];\n\n  var _React$useState2 = React.useState(),\n      lastActive = _React$useState2[0],\n      setLastActive = _React$useState2[1];\n\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: onClickRow && active >= 0 ? function (event) {\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.datum = data[active];\n      onClickRow(adjustedEvent);\n    } : undefined,\n    onUp: onClickRow && active ? function () {\n      return setActive(active - 1);\n    } : undefined,\n    onDown: onClickRow && data.length ? function () {\n      setActive(active >= 0 ? Math.min(active + 1, data.length - 1) : 0);\n    } : undefined\n  }, /*#__PURE__*/React.createElement(StyledDataTableBody, _extends({\n    ref: ref,\n    size: size,\n    tabIndex: onClickRow ? 0 : undefined,\n    onFocus: function onFocus() {\n      return !active && active !== 0 ? setActive(lastActive) : setActive(active);\n    },\n    onBlur: function onBlur() {\n      setLastActive(active);\n      setActive(undefined);\n    }\n  }, rest), /*#__PURE__*/React.createElement(InfiniteScroll, {\n    items: data,\n    onMore: onMore,\n    replace: replace,\n    renderMarker: function renderMarker(marker) {\n      return /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, null, marker));\n    },\n    scrollableAncestor: \"window\",\n    show: show,\n    step: step\n  }, function (datum, index, rowRef) {\n    var primaryValue = primaryProperty ? datumValue(datum, primaryProperty) : undefined;\n    var isSelected = selected && selected.includes(primaryValue);\n    var isRowExpanded = rowExpand && rowExpand.includes(index);\n    var cellProps = normalizeRowCellProps(rowProps, cellPropsProp, primaryValue, index);\n    return /*#__PURE__*/React.createElement(Row, {\n      key: index,\n      setActive: setActive,\n      rowRef: rowRef,\n      cellProps: cellProps,\n      primaryValue: primaryValue,\n      isSelected: isSelected,\n      isRowExpanded: isRowExpanded,\n      index: index,\n      size: size,\n      active: active >= 0 ? active === index : undefined,\n      onClickRow: onClickRow,\n      datum: datum,\n      selected: selected,\n      onSelect: onSelect,\n      rowDetails: rowDetails,\n      setRowExpand: setRowExpand,\n      rowExpand: rowExpand,\n      columns: columns,\n      primaryProperty: primaryProperty,\n      rowProps: rowProps,\n      data: data,\n      theme: theme,\n      pinnedOffset: pinnedOffset\n    });\n  })));\n});\nexport { Body };","map":{"version":3,"sources":["/Users/rachel/workout-generator/node_modules/grommet/es6/components/DataTable/Body.js"],"names":["_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","memo","useContext","ThemeContext","CheckBox","InfiniteScroll","TableRow","TableCell","Keyboard","ExpanderCell","Cell","StyledDataTableBody","StyledDataTableRow","datumValue","normalizeRowCellProps","defaultProps","Row","_ref","cellProps","primaryValue","index","rowRef","size","active","onClickRow","datum","selected","onSelect","isSelected","rowDetails","isRowExpanded","setActive","setRowExpand","rowExpand","columns","pinnedOffset","primaryProperty","data","createElement","Fragment","ref","onClick","event","persist","adjustedEvent","undefined","onMouseEnter","onMouseLeave","background","_grommetDataTableSelect","pinned","column","pin","Boolean","plain","render","a11yTitle","checked","disabled","onChange","filter","s","concat","pad","context","expanded","onToggle","map","property","border","scope","primary","toString","colSpan","Body","_ref2","cellPropsProp","onMore","replace","rowProps","show","step","rest","theme","_React$useState","useState","_React$useState2","lastActive","setLastActive","onEnter","onUp","onDown","Math","min","tabIndex","onFocus","onBlur","items","renderMarker","marker","scrollableAncestor","includes"],"mappings":"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","sourcesContent":["var _excluded = [\"cellProps\", \"columns\", \"data\", \"onMore\", \"replace\", \"onClickRow\", \"onSelect\", \"pinnedOffset\", \"primaryProperty\", \"rowProps\", \"selected\", \"rowDetails\", \"show\", \"size\", \"step\", \"rowExpand\", \"setRowExpand\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint-disable no-underscore-dangle */\nimport React, { forwardRef, memo, useContext } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { CheckBox } from '../CheckBox';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { TableRow } from '../TableRow';\nimport { TableCell } from '../TableCell';\nimport { Keyboard } from '../Keyboard';\nimport { ExpanderCell } from './ExpanderCell';\nimport { Cell } from './Cell';\nimport { StyledDataTableBody, StyledDataTableRow } from './StyledDataTable';\nimport { datumValue, normalizeRowCellProps } from './buildState';\nimport { defaultProps } from '../../default-props';\nvar Row = /*#__PURE__*/memo(function (_ref) {\n  var cellProps = _ref.cellProps,\n      primaryValue = _ref.primaryValue,\n      index = _ref.index,\n      rowRef = _ref.rowRef,\n      size = _ref.size,\n      active = _ref.active,\n      onClickRow = _ref.onClickRow,\n      datum = _ref.datum,\n      selected = _ref.selected,\n      onSelect = _ref.onSelect,\n      isSelected = _ref.isSelected,\n      rowDetails = _ref.rowDetails,\n      isRowExpanded = _ref.isRowExpanded,\n      setActive = _ref.setActive,\n      setRowExpand = _ref.setRowExpand,\n      rowExpand = _ref.rowExpand,\n      columns = _ref.columns,\n      pinnedOffset = _ref.pinnedOffset,\n      primaryProperty = _ref.primaryProperty,\n      data = _ref.data;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledDataTableRow, {\n    ref: rowRef,\n    size: size,\n    active: active,\n    onClick: onClickRow ? function (event) {\n      // extract from React's synthetic event pool\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.datum = datum;\n      adjustedEvent.index = index;\n      onClickRow(adjustedEvent);\n    } : undefined,\n    onMouseEnter: onClickRow ? function () {\n      setActive(index);\n    } : undefined,\n    onMouseLeave: onClickRow ? function () {\n      return setActive(undefined);\n    } : undefined\n  }, (selected || onSelect) && /*#__PURE__*/React.createElement(Cell, {\n    background: (pinnedOffset == null ? void 0 : pinnedOffset._grommetDataTableSelect) && cellProps.pinned.background || cellProps.background,\n    pinnedOffset: pinnedOffset == null ? void 0 : pinnedOffset._grommetDataTableSelect,\n    column: {\n      pin: Boolean(pinnedOffset == null ? void 0 : pinnedOffset._grommetDataTableSelect),\n      plain: 'noPad',\n      size: 'auto',\n      render: function render() {\n        return /*#__PURE__*/React.createElement(CheckBox, {\n          a11yTitle: (isSelected ? 'unselect' : 'select') + \" \" + primaryValue,\n          checked: isSelected,\n          disabled: !onSelect,\n          onChange: function onChange() {\n            if (isSelected) {\n              onSelect(selected.filter(function (s) {\n                return s !== primaryValue;\n              }));\n            } else onSelect([].concat(selected, [primaryValue]));\n          },\n          pad: cellProps.pad\n        });\n      }\n    }\n  }), rowDetails && /*#__PURE__*/React.createElement(ExpanderCell, {\n    context: isRowExpanded ? 'groupHeader' : 'body',\n    expanded: isRowExpanded,\n    onToggle: function onToggle() {\n      if (isRowExpanded) {\n        setRowExpand(rowExpand.filter(function (s) {\n          return s !== index;\n        }));\n      } else {\n        setRowExpand([].concat(rowExpand, [index]));\n      }\n    },\n    pad: cellProps.pad\n  }), columns.map(function (column) {\n    return /*#__PURE__*/React.createElement(Cell, {\n      key: column.property,\n      background: column.pin && cellProps.pinned.background || cellProps.background,\n      border: column.pin && cellProps.pinned.border || cellProps.border,\n      context: \"body\",\n      column: column,\n      datum: datum,\n      pad: column.pin && cellProps.pinned.pad || cellProps.pad,\n      pinnedOffset: pinnedOffset && pinnedOffset[column.property],\n      primaryProperty: primaryProperty,\n      scope: column.primary || column.property === primaryProperty ? 'row' : undefined\n    });\n  })), rowDetails && isRowExpanded && /*#__PURE__*/React.createElement(StyledDataTableRow, {\n    key: index.toString() + \"_expand\"\n  }, (selected || onSelect) && /*#__PURE__*/React.createElement(TableCell, null), /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: columns.length + 1\n  }, rowDetails(data[index]))));\n});\nvar Body = /*#__PURE__*/forwardRef(function (_ref2, ref) {\n  var cellPropsProp = _ref2.cellProps,\n      columns = _ref2.columns,\n      data = _ref2.data,\n      onMore = _ref2.onMore,\n      replace = _ref2.replace,\n      onClickRow = _ref2.onClickRow,\n      onSelect = _ref2.onSelect,\n      pinnedOffset = _ref2.pinnedOffset,\n      primaryProperty = _ref2.primaryProperty,\n      rowProps = _ref2.rowProps,\n      selected = _ref2.selected,\n      rowDetails = _ref2.rowDetails,\n      show = _ref2.show,\n      size = _ref2.size,\n      step = _ref2.step,\n      rowExpand = _ref2.rowExpand,\n      setRowExpand = _ref2.setRowExpand,\n      rest = _objectWithoutPropertiesLoose(_ref2, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _React$useState = React.useState(),\n      active = _React$useState[0],\n      setActive = _React$useState[1];\n\n  var _React$useState2 = React.useState(),\n      lastActive = _React$useState2[0],\n      setLastActive = _React$useState2[1];\n\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: onClickRow && active >= 0 ? function (event) {\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.datum = data[active];\n      onClickRow(adjustedEvent);\n    } : undefined,\n    onUp: onClickRow && active ? function () {\n      return setActive(active - 1);\n    } : undefined,\n    onDown: onClickRow && data.length ? function () {\n      setActive(active >= 0 ? Math.min(active + 1, data.length - 1) : 0);\n    } : undefined\n  }, /*#__PURE__*/React.createElement(StyledDataTableBody, _extends({\n    ref: ref,\n    size: size,\n    tabIndex: onClickRow ? 0 : undefined,\n    onFocus: function onFocus() {\n      return !active && active !== 0 ? setActive(lastActive) : setActive(active);\n    },\n    onBlur: function onBlur() {\n      setLastActive(active);\n      setActive(undefined);\n    }\n  }, rest), /*#__PURE__*/React.createElement(InfiniteScroll, {\n    items: data,\n    onMore: onMore,\n    replace: replace,\n    renderMarker: function renderMarker(marker) {\n      return /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, null, marker));\n    },\n    scrollableAncestor: \"window\",\n    show: show,\n    step: step\n  }, function (datum, index, rowRef) {\n    var primaryValue = primaryProperty ? datumValue(datum, primaryProperty) : undefined;\n    var isSelected = selected && selected.includes(primaryValue);\n    var isRowExpanded = rowExpand && rowExpand.includes(index);\n    var cellProps = normalizeRowCellProps(rowProps, cellPropsProp, primaryValue, index);\n    return /*#__PURE__*/React.createElement(Row, {\n      key: index,\n      setActive: setActive,\n      rowRef: rowRef,\n      cellProps: cellProps,\n      primaryValue: primaryValue,\n      isSelected: isSelected,\n      isRowExpanded: isRowExpanded,\n      index: index,\n      size: size,\n      active: active >= 0 ? active === index : undefined,\n      onClickRow: onClickRow,\n      datum: datum,\n      selected: selected,\n      onSelect: onSelect,\n      rowDetails: rowDetails,\n      setRowExpand: setRowExpand,\n      rowExpand: rowExpand,\n      columns: columns,\n      primaryProperty: primaryProperty,\n      rowProps: rowProps,\n      data: data,\n      theme: theme,\n      pinnedOffset: pinnedOffset\n    });\n  })));\n});\nexport { Body };"]},"metadata":{},"sourceType":"module"}