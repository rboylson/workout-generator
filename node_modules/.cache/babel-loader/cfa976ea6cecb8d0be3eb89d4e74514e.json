{"ast":null,"code":"var _excluded = [\"action\", \"as\", \"background\", \"border\", \"children\", \"data\", \"defaultItemProps\", \"focus\", \"itemProps\", \"onOrder\", \"pad\", \"paginate\", \"primaryKey\", \"secondaryKey\", \"show\", \"step\", \"onClickItem\", \"onMore\"];\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { Fragment, useContext, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { Pagination } from '../Pagination';\nimport { Text } from '../Text';\nimport { focusStyle, genericStyles, normalizeShow, unfocusStyle, useForwardedRef, usePagination } from '../../utils';\nimport { ListPropTypes } from './propTypes';\nvar StyledList = styled.ul.withConfig({\n  displayName: \"List__StyledList\",\n  componentId: \"sc-130gdqg-0\"\n})([\"list-style:none;\", \" padding:0;\", \" &:focus{\", \"}\", \"}\", \"}\"], function (props) {\n  return !props.margin && 'margin: 0;';\n}, genericStyles, function (props) {\n  return props.tabIndex >= 0 && focusStyle({\n    forceOutline: true,\n    skipSvgChildren: true\n  });\n}, function (props) {\n  return props.itemFocus && focusStyle({\n    forceOutline: true,\n    skipSvgChildren: true\n  });\n}, function (props) {\n  return props.theme.list && props.theme.list.extend;\n});\nvar StyledItem = styled(Box).withConfig({\n  displayName: \"List__StyledItem\",\n  componentId: \"sc-130gdqg-1\"\n})([\"\", \" \", \" &:focus{\", \"}\", \"\"], function (props) {\n  return props.onClick && \"cursor: pointer;\";\n}, function (props) {\n  return props.draggable && \"cursor: move;\";\n}, unfocusStyle({\n  forceOutline: true,\n  skipSvgChildren: true\n}), function (props) {\n  return props.theme.list && props.theme.list.item && props.theme.list.item.extend;\n}); // when paginated, this wraps the data table and pagination component\n\nvar StyledContainer = styled(Box).withConfig({\n  displayName: \"List__StyledContainer\",\n  componentId: \"sc-130gdqg-2\"\n})([\"\", \";\"], function (props) {\n  return props.theme.list && props.theme.list.container && props.theme.list.container.extend;\n});\n\nvar normalize = function normalize(item, index, property) {\n  if (typeof property === 'function') {\n    return property(item, index);\n  }\n\n  return item[property];\n};\n\nvar reorder = function reorder(array, source, target) {\n  var result = array.slice(0);\n  var tmp = result[source];\n  if (source < target) for (var i = source; i < target; i += 1) {\n    result[i] = result[i + 1];\n  } else for (var _i = source; _i > target; _i -= 1) {\n    result[_i] = result[_i - 1];\n  }\n  result[target] = tmp;\n  return result;\n}; // Determine the primary content for a row. If the List\n// has a primaryKey defined this returns the item data\n// based on this primary key. If no primaryKey property\n// is defined this will return unknown. The intent of\n// the content from the primary key is that it is unique\n// within the list.\n\n\nvar getPrimaryContent = function getPrimaryContent(item, index, primaryKey) {\n  var primaryContent;\n\n  if (primaryKey) {\n    if (typeof primaryKey === 'function') {\n      primaryContent = primaryKey(item, index);\n    } else {\n      primaryContent = normalize(item, index, primaryKey);\n    }\n  }\n\n  return primaryContent;\n};\n\nvar getKey = function getKey(item, index, primaryContent) {\n  if (typeof primaryContent === 'string') {\n    return primaryContent;\n  }\n\n  return typeof item === 'string' ? item : index;\n};\n\nvar getItemId = function getItemId(item, index, primaryKey) {\n  var primaryContent = getPrimaryContent(item, index, primaryKey);\n  return getKey(item, index, primaryContent);\n};\n\nvar List = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var action = _ref.action,\n      as = _ref.as,\n      background = _ref.background,\n      border = _ref.border,\n      children = _ref.children,\n      data = _ref.data,\n      defaultItemProps = _ref.defaultItemProps,\n      focus = _ref.focus,\n      itemProps = _ref.itemProps,\n      onOrder = _ref.onOrder,\n      pad = _ref.pad,\n      paginate = _ref.paginate,\n      primaryKey = _ref.primaryKey,\n      secondaryKey = _ref.secondaryKey,\n      showProp = _ref.show,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? paginate ? 50 : undefined : _ref$step,\n      onClickItem = _ref.onClickItem,\n      onMore = _ref.onMore,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var listRef = useForwardedRef(ref);\n  var theme = useContext(ThemeContext); // active will be the index of the current 'active'\n  // control in the list. If the onOrder property is defined\n  // this will be the index of up or down control for ordering\n  // items in the list. In this case the item index of that\n  // control would be the active index / 2.\n  // If onOrder is not defined but onClickItem is (e.g. the\n  // List items are likely selectable), active will be the\n  // index of the item which is currently active.\n\n  var _useState = useState(),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var _useState2 = useState(),\n      lastActive = _useState2[0],\n      setLastActive = _useState2[1];\n\n  var _useState3 = useState(),\n      itemFocus = _useState3[0],\n      setItemFocus = _useState3[1];\n\n  var _useState4 = useState(),\n      dragging = _useState4[0],\n      setDragging = _useState4[1];\n\n  var _usePagination = usePagination(_extends({\n    data: data,\n    page: normalizeShow(showProp, step),\n    step: step\n  }, paginate)),\n      items = _usePagination[0],\n      paginationProps = _usePagination[1];\n\n  var Container = paginate ? StyledContainer : Fragment;\n  var containterProps = paginate ? _extends({}, theme.list.container) : undefined;\n\n  var _useState5 = useState(),\n      orderingData = _useState5[0],\n      setOrderingData = _useState5[1];\n\n  var draggingRef = useRef();\n  var ariaProps = {\n    role: onClickItem || onOrder ? 'listbox' : 'list'\n  };\n\n  if (active >= 0) {\n    var activeId; // We have an item that is 'focused' within the list. This could\n    // be the list item or one of the up/down ordering buttons.\n    // We need to figure out an id of the thing that will be shown as active\n\n    if (onOrder) {\n      // figure out which arrow button will be the active one.\n      var buttonId = active % 2 ? 'MoveDown' : 'MoveUp';\n      var itemIndex = Math.trunc(active / 2);\n      activeId = \"\" + getItemId(data[itemIndex], itemIndex, primaryKey) + buttonId;\n    } else if (onClickItem) {\n      // The whole list item is active. Figure out an id\n      activeId = getItemId(data[active], active, primaryKey);\n    }\n\n    ariaProps['aria-activedescendant'] = activeId;\n  }\n\n  return /*#__PURE__*/React.createElement(Container, containterProps, /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: (onClickItem || onOrder) && active >= 0 ? function (event) {\n      if (onOrder) {\n        var index = Math.trunc(active / 2); // Call onOrder with the re-ordered data.\n        // Update the active control index so that the\n        // active control will stay on the same item\n        // even though it moved up or down.\n\n        if (active % 2) {\n          onOrder(reorder(data, index, index + 1));\n          setActive(Math.min(active + 2, data.length * 2 - 2));\n        } else {\n          onOrder(reorder(data, index, index - 1));\n          setActive(Math.max(active - 2, 1));\n        }\n      } else {\n        event.persist();\n        var adjustedEvent = event;\n        adjustedEvent.item = data[active];\n        adjustedEvent.index = active;\n        onClickItem(adjustedEvent);\n      }\n    } : undefined,\n    onUp: (onClickItem || onOrder) && active ? function () {\n      var min = onOrder ? 1 : 0;\n      setActive(Math.max(active - 1, min));\n    } : undefined,\n    onDown: (onClickItem || onOrder) && data && data.length ? function () {\n      var min = onOrder ? 1 : 0;\n      var max = onOrder ? data.length * 2 - 2 : data.length - 1;\n      setActive(active >= min ? Math.min(active + 1, max) : min);\n    } : undefined\n  }, /*#__PURE__*/React.createElement(StyledList, _extends({\n    ref: listRef,\n    as: as || 'ul',\n    itemFocus: itemFocus,\n    tabIndex: onClickItem || onOrder ? 0 : undefined,\n    onFocus: function onFocus() {\n      return (// Fixes zero-th index showing undefined.\n        // Checks for active variable to stop bug where activeStyle\n        // gets applied to lastActive instead of the item the user\n        // is currently clicking on\n        !active && active !== 0 ? setActive(lastActive) : setActive(active)\n      );\n    },\n    onBlur: function onBlur() {\n      setLastActive(active);\n      setActive(undefined);\n    }\n  }, ariaProps, rest), /*#__PURE__*/React.createElement(InfiniteScroll, {\n    items: !paginate ? orderingData || data : items,\n    onMore: onMore,\n    scrollableAncestor: \"window\",\n    show: !paginate ? showProp : undefined,\n    step: step,\n    renderMarker: function renderMarker(marker) {\n      return /*#__PURE__*/React.createElement(Box, {\n        as: \"li\",\n        flex: false\n      }, marker);\n    }\n  }, function (item, index) {\n    var content;\n    var boxProps = {};\n    var itemId;\n\n    if (children) {\n      content = children(item, index, onClickItem ? {\n        active: active === index\n      } : undefined);\n    } else if (primaryKey) {\n      if (typeof primaryKey === 'function') {\n        itemId = primaryKey(item, index);\n        content = itemId;\n      } else {\n        itemId = normalize(item, index, primaryKey);\n        content = /*#__PURE__*/React.createElement(Text, {\n          key: \"p\",\n          weight: \"bold\"\n        }, itemId);\n      }\n\n      if (secondaryKey) {\n        if (typeof secondaryKey === 'function') {\n          content = [content, secondaryKey(item, index)];\n        } else {\n          content = [content, /*#__PURE__*/React.createElement(Text, {\n            key: \"s\"\n          }, normalize(item, index, secondaryKey))];\n        }\n\n        boxProps = {\n          direction: 'row',\n          align: 'center',\n          justify: 'between',\n          gap: 'medium'\n        };\n      }\n    } else if (typeof item === 'object') {\n      content = item[Object.keys(item)[0]];\n    } else {\n      content = item;\n    }\n\n    var key = getKey(item, index, itemId);\n\n    if (action) {\n      content = [/*#__PURE__*/React.createElement(Box, {\n        align: \"start\",\n        key: \"actionContainer\" + index\n      }, content), action(item, index)];\n      boxProps = {\n        direction: 'row',\n        align: secondaryKey ? 'start' : 'center',\n        justify: 'between',\n        gap: 'medium'\n      };\n    }\n\n    var adjustedBackground = background || theme.list.item.background;\n\n    if (!onOrder && active === index || dragging === index) {\n      adjustedBackground = theme.global.hover.background;\n    } else if (Array.isArray(adjustedBackground)) {\n      adjustedBackground = adjustedBackground[index % adjustedBackground.length];\n    }\n\n    var adjustedBorder = border !== undefined ? border : theme.list.item.border;\n\n    if (adjustedBorder === 'horizontal' && index) {\n      adjustedBorder = 'bottom';\n    }\n\n    var clickProps;\n\n    if (onClickItem && !onOrder) {\n      clickProps = {\n        role: 'option',\n        tabIndex: -1,\n        active: active === index,\n        onClick: function onClick(event) {\n          // extract from React's synthetic event pool\n          event.persist();\n          var adjustedEvent = event;\n          adjustedEvent.item = item;\n          adjustedEvent.index = index;\n          onClickItem(adjustedEvent); // put focus on the List container to meet WCAG\n          // accessibility guidelines that focus remains on `ul`\n\n          listRef.current.focus();\n        },\n        onMouseOver: function onMouseOver() {\n          return setActive(index);\n        },\n        onMouseOut: function onMouseOut() {\n          return setActive(undefined);\n        },\n        onFocus: function onFocus() {\n          setActive(index);\n          setItemFocus(true);\n        },\n        onBlur: function onBlur() {\n          setActive(undefined);\n          setItemFocus(false);\n        }\n      };\n    }\n\n    var orderProps;\n    var orderControls;\n\n    if (onOrder) {\n      orderProps = {\n        draggable: true,\n        onDragStart: function onDragStart(event) {\n          event.dataTransfer.setData('text/plain', ''); // allowed per\n          // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API#define_the_drag_effect\n          // eslint-disable-next-line no-param-reassign\n\n          event.dataTransfer.effectAllowed = 'move';\n          setDragging(index);\n          setActive(undefined);\n        },\n        onDragEnd: function onDragEnd() {\n          setDragging(undefined);\n          setOrderingData(undefined);\n        },\n        onDragOver: function onDragOver(event) {\n          if (dragging !== undefined) {\n            event.preventDefault();\n\n            if (dragging !== index) {\n              // eslint-disable-next-line no-param-reassign\n              event.dataTransfer.dropEffect = 'move';\n              setOrderingData(reorder(orderingData || data, dragging, index));\n              setDragging(index);\n            }\n          }\n        },\n        onDrop: function onDrop() {\n          if (orderingData) {\n            onOrder(orderingData);\n          }\n        },\n        ref: dragging === index ? draggingRef : undefined\n      };\n      var Up = theme.list.icons.up;\n      var Down = theme.list.icons.down;\n      orderControls = /*#__PURE__*/React.createElement(Box, {\n        direction: \"row\",\n        align: \"center\",\n        justify: \"end\"\n      }, /*#__PURE__*/React.createElement(Button, {\n        id: key + \"MoveUp\",\n        a11yTitle: index + 1 + \" \" + key + \" move up\",\n        icon: /*#__PURE__*/React.createElement(Up, null),\n        hoverIndicator: true,\n        focusIndicator: false,\n        disabled: !index,\n        active: active === index * 2,\n        onClick: function onClick(event) {\n          event.stopPropagation();\n          onOrder(reorder(data, index, index - 1));\n        },\n        tabIndex: -1,\n        onMouseOver: function onMouseOver() {\n          return setActive(index * 2);\n        },\n        onMouseOut: function onMouseOut() {\n          return setActive(undefined);\n        },\n        onFocus: function onFocus() {\n          setActive(index * 2);\n          setItemFocus(true);\n        },\n        onBlur: function onBlur() {\n          setActive(undefined);\n          setItemFocus(false);\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        id: key + \"MoveDown\",\n        a11yTitle: index + 1 + \" \" + key + \" move down\",\n        icon: /*#__PURE__*/React.createElement(Down, null),\n        hoverIndicator: true,\n        focusIndicator: false,\n        disabled: index >= data.length - 1,\n        active: active === index * 2 + 1,\n        onClick: function onClick(event) {\n          event.stopPropagation();\n          onOrder(reorder(data, index, index + 1));\n        },\n        tabIndex: -1,\n        onMouseOver: function onMouseOver() {\n          return setActive(index * 2 + 1);\n        },\n        onMouseOut: function onMouseOut() {\n          return setActive(undefined);\n        },\n        onFocus: function onFocus() {\n          setActive(index * 2 + 1);\n          setItemFocus(true);\n        },\n        onBlur: function onBlur() {\n          setActive(undefined);\n          setItemFocus(false);\n        }\n      }));\n      boxProps = {\n        direction: 'row',\n        align: defaultItemProps && defaultItemProps.align || 'center',\n        gap: 'medium'\n      };\n      content = /*#__PURE__*/React.createElement(Box, {\n        flex: true\n      }, content);\n    }\n\n    if (itemProps && itemProps[index]) {\n      boxProps = _extends({}, boxProps, itemProps[index]);\n    }\n\n    return /*#__PURE__*/React.createElement(StyledItem, _extends({\n      key: key,\n      tag: \"li\",\n      flex: false,\n      pad: pad || theme.list.item.pad,\n      background: adjustedBackground,\n      border: adjustedBorder\n    }, defaultItemProps, boxProps, clickProps, orderProps), onOrder && /*#__PURE__*/React.createElement(Text, null, index + 1), content, orderControls);\n  }))), paginate && data.length > step && items && items.length ? /*#__PURE__*/React.createElement(Pagination, _extends({\n    alignSelf: \"end\"\n  }, paginationProps)) : null);\n});\nList.displayName = 'List';\nList.propTypes = ListPropTypes;\nexport { List };","map":{"version":3,"sources":["/Users/rachel/workout-generator/node_modules/grommet/es6/components/List/List.js"],"names":["_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","Fragment","useContext","useRef","useState","styled","ThemeContext","Box","Button","InfiniteScroll","Keyboard","Pagination","Text","focusStyle","genericStyles","normalizeShow","unfocusStyle","useForwardedRef","usePagination","ListPropTypes","StyledList","ul","withConfig","displayName","componentId","props","margin","tabIndex","forceOutline","skipSvgChildren","itemFocus","theme","list","extend","StyledItem","onClick","draggable","item","StyledContainer","container","normalize","index","property","reorder","array","result","slice","tmp","_i","getPrimaryContent","primaryKey","primaryContent","getKey","getItemId","List","forwardRef","_ref","ref","action","as","background","border","children","data","defaultItemProps","focus","itemProps","onOrder","pad","paginate","secondaryKey","showProp","show","_ref$step","step","undefined","onClickItem","onMore","rest","listRef","_useState","active","setActive","_useState2","lastActive","setLastActive","_useState3","setItemFocus","_useState4","dragging","setDragging","_usePagination","page","items","paginationProps","Container","containterProps","_useState5","orderingData","setOrderingData","draggingRef","ariaProps","role","activeId","buttonId","itemIndex","Math","trunc","createElement","onEnter","event","min","max","persist","adjustedEvent","onUp","onDown","onFocus","onBlur","scrollableAncestor","renderMarker","marker","flex","content","boxProps","itemId","weight","direction","align","justify","gap","adjustedBackground","global","hover","Array","isArray","adjustedBorder","clickProps","current","onMouseOver","onMouseOut","orderProps","orderControls","onDragStart","dataTransfer","setData","effectAllowed","onDragEnd","onDragOver","preventDefault","dropEffect","onDrop","Up","icons","up","Down","down","id","a11yTitle","icon","hoverIndicator","focusIndicator","disabled","stopPropagation","tag","alignSelf","propTypes"],"mappings":"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","sourcesContent":["var _excluded = [\"action\", \"as\", \"background\", \"border\", \"children\", \"data\", \"defaultItemProps\", \"focus\", \"itemProps\", \"onOrder\", \"pad\", \"paginate\", \"primaryKey\", \"secondaryKey\", \"show\", \"step\", \"onClickItem\", \"onMore\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { Fragment, useContext, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { Pagination } from '../Pagination';\nimport { Text } from '../Text';\nimport { focusStyle, genericStyles, normalizeShow, unfocusStyle, useForwardedRef, usePagination } from '../../utils';\nimport { ListPropTypes } from './propTypes';\nvar StyledList = styled.ul.withConfig({\n  displayName: \"List__StyledList\",\n  componentId: \"sc-130gdqg-0\"\n})([\"list-style:none;\", \" padding:0;\", \" &:focus{\", \"}\", \"}\", \"}\"], function (props) {\n  return !props.margin && 'margin: 0;';\n}, genericStyles, function (props) {\n  return props.tabIndex >= 0 && focusStyle({\n    forceOutline: true,\n    skipSvgChildren: true\n  });\n}, function (props) {\n  return props.itemFocus && focusStyle({\n    forceOutline: true,\n    skipSvgChildren: true\n  });\n}, function (props) {\n  return props.theme.list && props.theme.list.extend;\n});\nvar StyledItem = styled(Box).withConfig({\n  displayName: \"List__StyledItem\",\n  componentId: \"sc-130gdqg-1\"\n})([\"\", \" \", \" &:focus{\", \"}\", \"\"], function (props) {\n  return props.onClick && \"cursor: pointer;\";\n}, function (props) {\n  return props.draggable && \"cursor: move;\";\n}, unfocusStyle({\n  forceOutline: true,\n  skipSvgChildren: true\n}), function (props) {\n  return props.theme.list && props.theme.list.item && props.theme.list.item.extend;\n}); // when paginated, this wraps the data table and pagination component\n\nvar StyledContainer = styled(Box).withConfig({\n  displayName: \"List__StyledContainer\",\n  componentId: \"sc-130gdqg-2\"\n})([\"\", \";\"], function (props) {\n  return props.theme.list && props.theme.list.container && props.theme.list.container.extend;\n});\n\nvar normalize = function normalize(item, index, property) {\n  if (typeof property === 'function') {\n    return property(item, index);\n  }\n\n  return item[property];\n};\n\nvar reorder = function reorder(array, source, target) {\n  var result = array.slice(0);\n  var tmp = result[source];\n  if (source < target) for (var i = source; i < target; i += 1) {\n    result[i] = result[i + 1];\n  } else for (var _i = source; _i > target; _i -= 1) {\n    result[_i] = result[_i - 1];\n  }\n  result[target] = tmp;\n  return result;\n}; // Determine the primary content for a row. If the List\n// has a primaryKey defined this returns the item data\n// based on this primary key. If no primaryKey property\n// is defined this will return unknown. The intent of\n// the content from the primary key is that it is unique\n// within the list.\n\n\nvar getPrimaryContent = function getPrimaryContent(item, index, primaryKey) {\n  var primaryContent;\n\n  if (primaryKey) {\n    if (typeof primaryKey === 'function') {\n      primaryContent = primaryKey(item, index);\n    } else {\n      primaryContent = normalize(item, index, primaryKey);\n    }\n  }\n\n  return primaryContent;\n};\n\nvar getKey = function getKey(item, index, primaryContent) {\n  if (typeof primaryContent === 'string') {\n    return primaryContent;\n  }\n\n  return typeof item === 'string' ? item : index;\n};\n\nvar getItemId = function getItemId(item, index, primaryKey) {\n  var primaryContent = getPrimaryContent(item, index, primaryKey);\n  return getKey(item, index, primaryContent);\n};\n\nvar List = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var action = _ref.action,\n      as = _ref.as,\n      background = _ref.background,\n      border = _ref.border,\n      children = _ref.children,\n      data = _ref.data,\n      defaultItemProps = _ref.defaultItemProps,\n      focus = _ref.focus,\n      itemProps = _ref.itemProps,\n      onOrder = _ref.onOrder,\n      pad = _ref.pad,\n      paginate = _ref.paginate,\n      primaryKey = _ref.primaryKey,\n      secondaryKey = _ref.secondaryKey,\n      showProp = _ref.show,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? paginate ? 50 : undefined : _ref$step,\n      onClickItem = _ref.onClickItem,\n      onMore = _ref.onMore,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var listRef = useForwardedRef(ref);\n  var theme = useContext(ThemeContext); // active will be the index of the current 'active'\n  // control in the list. If the onOrder property is defined\n  // this will be the index of up or down control for ordering\n  // items in the list. In this case the item index of that\n  // control would be the active index / 2.\n  // If onOrder is not defined but onClickItem is (e.g. the\n  // List items are likely selectable), active will be the\n  // index of the item which is currently active.\n\n  var _useState = useState(),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var _useState2 = useState(),\n      lastActive = _useState2[0],\n      setLastActive = _useState2[1];\n\n  var _useState3 = useState(),\n      itemFocus = _useState3[0],\n      setItemFocus = _useState3[1];\n\n  var _useState4 = useState(),\n      dragging = _useState4[0],\n      setDragging = _useState4[1];\n\n  var _usePagination = usePagination(_extends({\n    data: data,\n    page: normalizeShow(showProp, step),\n    step: step\n  }, paginate)),\n      items = _usePagination[0],\n      paginationProps = _usePagination[1];\n\n  var Container = paginate ? StyledContainer : Fragment;\n  var containterProps = paginate ? _extends({}, theme.list.container) : undefined;\n\n  var _useState5 = useState(),\n      orderingData = _useState5[0],\n      setOrderingData = _useState5[1];\n\n  var draggingRef = useRef();\n  var ariaProps = {\n    role: onClickItem || onOrder ? 'listbox' : 'list'\n  };\n\n  if (active >= 0) {\n    var activeId; // We have an item that is 'focused' within the list. This could\n    // be the list item or one of the up/down ordering buttons.\n    // We need to figure out an id of the thing that will be shown as active\n\n    if (onOrder) {\n      // figure out which arrow button will be the active one.\n      var buttonId = active % 2 ? 'MoveDown' : 'MoveUp';\n      var itemIndex = Math.trunc(active / 2);\n      activeId = \"\" + getItemId(data[itemIndex], itemIndex, primaryKey) + buttonId;\n    } else if (onClickItem) {\n      // The whole list item is active. Figure out an id\n      activeId = getItemId(data[active], active, primaryKey);\n    }\n\n    ariaProps['aria-activedescendant'] = activeId;\n  }\n\n  return /*#__PURE__*/React.createElement(Container, containterProps, /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: (onClickItem || onOrder) && active >= 0 ? function (event) {\n      if (onOrder) {\n        var index = Math.trunc(active / 2); // Call onOrder with the re-ordered data.\n        // Update the active control index so that the\n        // active control will stay on the same item\n        // even though it moved up or down.\n\n        if (active % 2) {\n          onOrder(reorder(data, index, index + 1));\n          setActive(Math.min(active + 2, data.length * 2 - 2));\n        } else {\n          onOrder(reorder(data, index, index - 1));\n          setActive(Math.max(active - 2, 1));\n        }\n      } else {\n        event.persist();\n        var adjustedEvent = event;\n        adjustedEvent.item = data[active];\n        adjustedEvent.index = active;\n        onClickItem(adjustedEvent);\n      }\n    } : undefined,\n    onUp: (onClickItem || onOrder) && active ? function () {\n      var min = onOrder ? 1 : 0;\n      setActive(Math.max(active - 1, min));\n    } : undefined,\n    onDown: (onClickItem || onOrder) && data && data.length ? function () {\n      var min = onOrder ? 1 : 0;\n      var max = onOrder ? data.length * 2 - 2 : data.length - 1;\n      setActive(active >= min ? Math.min(active + 1, max) : min);\n    } : undefined\n  }, /*#__PURE__*/React.createElement(StyledList, _extends({\n    ref: listRef,\n    as: as || 'ul',\n    itemFocus: itemFocus,\n    tabIndex: onClickItem || onOrder ? 0 : undefined,\n    onFocus: function onFocus() {\n      return (// Fixes zero-th index showing undefined.\n        // Checks for active variable to stop bug where activeStyle\n        // gets applied to lastActive instead of the item the user\n        // is currently clicking on\n        !active && active !== 0 ? setActive(lastActive) : setActive(active)\n      );\n    },\n    onBlur: function onBlur() {\n      setLastActive(active);\n      setActive(undefined);\n    }\n  }, ariaProps, rest), /*#__PURE__*/React.createElement(InfiniteScroll, {\n    items: !paginate ? orderingData || data : items,\n    onMore: onMore,\n    scrollableAncestor: \"window\",\n    show: !paginate ? showProp : undefined,\n    step: step,\n    renderMarker: function renderMarker(marker) {\n      return /*#__PURE__*/React.createElement(Box, {\n        as: \"li\",\n        flex: false\n      }, marker);\n    }\n  }, function (item, index) {\n    var content;\n    var boxProps = {};\n    var itemId;\n\n    if (children) {\n      content = children(item, index, onClickItem ? {\n        active: active === index\n      } : undefined);\n    } else if (primaryKey) {\n      if (typeof primaryKey === 'function') {\n        itemId = primaryKey(item, index);\n        content = itemId;\n      } else {\n        itemId = normalize(item, index, primaryKey);\n        content = /*#__PURE__*/React.createElement(Text, {\n          key: \"p\",\n          weight: \"bold\"\n        }, itemId);\n      }\n\n      if (secondaryKey) {\n        if (typeof secondaryKey === 'function') {\n          content = [content, secondaryKey(item, index)];\n        } else {\n          content = [content, /*#__PURE__*/React.createElement(Text, {\n            key: \"s\"\n          }, normalize(item, index, secondaryKey))];\n        }\n\n        boxProps = {\n          direction: 'row',\n          align: 'center',\n          justify: 'between',\n          gap: 'medium'\n        };\n      }\n    } else if (typeof item === 'object') {\n      content = item[Object.keys(item)[0]];\n    } else {\n      content = item;\n    }\n\n    var key = getKey(item, index, itemId);\n\n    if (action) {\n      content = [/*#__PURE__*/React.createElement(Box, {\n        align: \"start\",\n        key: \"actionContainer\" + index\n      }, content), action(item, index)];\n      boxProps = {\n        direction: 'row',\n        align: secondaryKey ? 'start' : 'center',\n        justify: 'between',\n        gap: 'medium'\n      };\n    }\n\n    var adjustedBackground = background || theme.list.item.background;\n\n    if (!onOrder && active === index || dragging === index) {\n      adjustedBackground = theme.global.hover.background;\n    } else if (Array.isArray(adjustedBackground)) {\n      adjustedBackground = adjustedBackground[index % adjustedBackground.length];\n    }\n\n    var adjustedBorder = border !== undefined ? border : theme.list.item.border;\n\n    if (adjustedBorder === 'horizontal' && index) {\n      adjustedBorder = 'bottom';\n    }\n\n    var clickProps;\n\n    if (onClickItem && !onOrder) {\n      clickProps = {\n        role: 'option',\n        tabIndex: -1,\n        active: active === index,\n        onClick: function onClick(event) {\n          // extract from React's synthetic event pool\n          event.persist();\n          var adjustedEvent = event;\n          adjustedEvent.item = item;\n          adjustedEvent.index = index;\n          onClickItem(adjustedEvent); // put focus on the List container to meet WCAG\n          // accessibility guidelines that focus remains on `ul`\n\n          listRef.current.focus();\n        },\n        onMouseOver: function onMouseOver() {\n          return setActive(index);\n        },\n        onMouseOut: function onMouseOut() {\n          return setActive(undefined);\n        },\n        onFocus: function onFocus() {\n          setActive(index);\n          setItemFocus(true);\n        },\n        onBlur: function onBlur() {\n          setActive(undefined);\n          setItemFocus(false);\n        }\n      };\n    }\n\n    var orderProps;\n    var orderControls;\n\n    if (onOrder) {\n      orderProps = {\n        draggable: true,\n        onDragStart: function onDragStart(event) {\n          event.dataTransfer.setData('text/plain', ''); // allowed per\n          // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API#define_the_drag_effect\n          // eslint-disable-next-line no-param-reassign\n\n          event.dataTransfer.effectAllowed = 'move';\n          setDragging(index);\n          setActive(undefined);\n        },\n        onDragEnd: function onDragEnd() {\n          setDragging(undefined);\n          setOrderingData(undefined);\n        },\n        onDragOver: function onDragOver(event) {\n          if (dragging !== undefined) {\n            event.preventDefault();\n\n            if (dragging !== index) {\n              // eslint-disable-next-line no-param-reassign\n              event.dataTransfer.dropEffect = 'move';\n              setOrderingData(reorder(orderingData || data, dragging, index));\n              setDragging(index);\n            }\n          }\n        },\n        onDrop: function onDrop() {\n          if (orderingData) {\n            onOrder(orderingData);\n          }\n        },\n        ref: dragging === index ? draggingRef : undefined\n      };\n      var Up = theme.list.icons.up;\n      var Down = theme.list.icons.down;\n      orderControls = /*#__PURE__*/React.createElement(Box, {\n        direction: \"row\",\n        align: \"center\",\n        justify: \"end\"\n      }, /*#__PURE__*/React.createElement(Button, {\n        id: key + \"MoveUp\",\n        a11yTitle: index + 1 + \" \" + key + \" move up\",\n        icon: /*#__PURE__*/React.createElement(Up, null),\n        hoverIndicator: true,\n        focusIndicator: false,\n        disabled: !index,\n        active: active === index * 2,\n        onClick: function onClick(event) {\n          event.stopPropagation();\n          onOrder(reorder(data, index, index - 1));\n        },\n        tabIndex: -1,\n        onMouseOver: function onMouseOver() {\n          return setActive(index * 2);\n        },\n        onMouseOut: function onMouseOut() {\n          return setActive(undefined);\n        },\n        onFocus: function onFocus() {\n          setActive(index * 2);\n          setItemFocus(true);\n        },\n        onBlur: function onBlur() {\n          setActive(undefined);\n          setItemFocus(false);\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        id: key + \"MoveDown\",\n        a11yTitle: index + 1 + \" \" + key + \" move down\",\n        icon: /*#__PURE__*/React.createElement(Down, null),\n        hoverIndicator: true,\n        focusIndicator: false,\n        disabled: index >= data.length - 1,\n        active: active === index * 2 + 1,\n        onClick: function onClick(event) {\n          event.stopPropagation();\n          onOrder(reorder(data, index, index + 1));\n        },\n        tabIndex: -1,\n        onMouseOver: function onMouseOver() {\n          return setActive(index * 2 + 1);\n        },\n        onMouseOut: function onMouseOut() {\n          return setActive(undefined);\n        },\n        onFocus: function onFocus() {\n          setActive(index * 2 + 1);\n          setItemFocus(true);\n        },\n        onBlur: function onBlur() {\n          setActive(undefined);\n          setItemFocus(false);\n        }\n      }));\n      boxProps = {\n        direction: 'row',\n        align: defaultItemProps && defaultItemProps.align || 'center',\n        gap: 'medium'\n      };\n      content = /*#__PURE__*/React.createElement(Box, {\n        flex: true\n      }, content);\n    }\n\n    if (itemProps && itemProps[index]) {\n      boxProps = _extends({}, boxProps, itemProps[index]);\n    }\n\n    return /*#__PURE__*/React.createElement(StyledItem, _extends({\n      key: key,\n      tag: \"li\",\n      flex: false,\n      pad: pad || theme.list.item.pad,\n      background: adjustedBackground,\n      border: adjustedBorder\n    }, defaultItemProps, boxProps, clickProps, orderProps), onOrder && /*#__PURE__*/React.createElement(Text, null, index + 1), content, orderControls);\n  }))), paginate && data.length > step && items && items.length ? /*#__PURE__*/React.createElement(Pagination, _extends({\n    alignSelf: \"end\"\n  }, paginationProps)) : null);\n});\nList.displayName = 'List';\nList.propTypes = ListPropTypes;\nexport { List };"]},"metadata":{},"sourceType":"module"}